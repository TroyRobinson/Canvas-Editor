<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Canvas Builder</title>
    <link rel="stylesheet" href="styles.css">
    <script id="css-content" type="text/plain">.frame-content {
    color: #e0e0e0;
    background: #1a1a1a;
    font-family: system-ui, -apple-system, sans-serif;
    min-width: 200px;
    min-height: 150px;
    padding: 16px;
    height: calc(100% - 41px);
    overflow: visible;
    position: relative;
    cursor: move;
}

/* Element Frames */
.frame-content .element-frame {
    background: #222222;
    border: 2px solid #666;
    border-radius: 6px;
    overflow: visible;
    padding: 8px;
}

/* Headings & Paragraphs */
.frame-content h3 {
    margin-bottom: 12px;
    color: #f0f0f0;
}

.frame-content p {
    margin-bottom: 16px;
    line-height: 1.5;
}

/* Buttons (generic and element-style) */
.frame-content button,
.frame-content .button-element {
    background: #3a3a3a;
    color: #e0e0e0;
    border: 1px solid #555;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    font-family: inherit;
}

.frame-content button:hover,
.frame-content .button-element:hover {
    background: #4a4a4a;
}

/* Text Elements */
.frame-content .text-element {
    background: transparent;
    color: inherit;
    font-size: 14px;
    line-height: 1.4;
    padding: 4px;
    border: none;
    outline: none;
    resize: none;
    font-family: inherit;
}

/* Line Element */
.frame-content .line-element {
    background: #e0e0e0;
    border: none;
    border-radius: 0;
    height: 2px;
    transform-origin: 0 0;
}

/* Circle Element */
.frame-content .circle-element {
    background: #4a4a4a;
    border: 2px solid #666;
    border-radius: 50%;
}

/* Input Element */
.frame-content .input-wrapper {
    background: transparent;
    color: inherit;
    border: none;
    padding: 8px;
    margin: 0;
    font-size: 14px;
    font-family: inherit;
    outline: 1px solid #555;
}</script>
</head>
<body>
    <div id="canvas"></div>
    
    <!-- Right Pane Menu Toggle -->
    <div id="right-pane-toggle" data-selectable="false">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </div>
    
    <!-- Right Pane Panel -->
    <div id="right-pane-panel">
        <div id="right-pane-resizer"></div>
        <div id="right-pane-content-wrapper">
            <div id="right-pane-header">
                <div id="right-pane-tabs"></div>
                <button id="right-pane-close" title="Close Panel" data-selectable="false">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div id="right-pane-content"></div>
        </div>
    </div>
    
    <div id="zoom-indicator"></div>
    <div id="help-text">
        <button id="help-close-btn" title="Close Help">×</button>
        <p>&nbsp; Actions:</p>
        <kbd>Ctrl/Cmd</kbd> + <kbd>E</kbd> Toggle Mode<br>
        <kbd>Ctrl/Cmd</kbd> + <kbd>R</kbd> AI Enhance Frame<br>
        <kbd>Ctrl/Cmd</kbd> + <kbd>Click</kbd> Extract Element<br>
        <kbd>Ctrl/Cmd</kbd> + <kbd>Z</kbd> Undo • <kbd>Shift</kbd> + <kbd>Ctrl/Cmd</kbd> + <kbd>Z</kbd> Redo<br>
        <kbd>Backspace</kbd> Delete Selected<br>
        <p>&nbsp; New Elements:</p>
        <kbd>Ctrl/Cmd</kbd> + <kbd>N</kbd> New Frame<br>
        <kbd>F</kbd> Frame • <kbd>R</kbd> Element-Frame • <kbd>T</kbd> Text<br>
        <kbd>L/D</kbd> Line • <kbd>O</kbd> Circle • <kbd>B</kbd> Button • <kbd>P</kbd> Input
        <p>&nbsp; Navigation:</p>
        <kbd>Ctrl/Cmd</kbd> + <kbd>Scroll</kbd> Zoom<br>
        <kbd>Ctrl/Cmd</kbd> + <kbd>0</kbd> Reset Zoom<br>
        <kbd>Space</kbd> + <kbd>Drag</kbd> Pan<br>
    </div>

    <!-- JavaScript modules loaded in correct dependency order -->
    <script src="js/canvas.js"></script>
    <script src="js/css-manager.js"></script>
    <script src="js/iframe-manager.js"></script>
    <script src="js/mode-manager.js"></script>
    <script src="js/zoom.js"></script>
    <script src="js/pan.js"></script>
    <script src="js/edge-detection.js"></script>
    <script src="js/selection.js"></script>
    <script src="js/text-editing.js"></script>
    <script src="js/resize.js"></script>
    <script src="js/drag.js"></script>
    <script src="js/marquee-selection.js"></script>
    <script src="js/extraction.js"></script>
    <script src="js/frame.js"></script>
    <script src="js/element-creation.js"></script>
    <script src="js/comment-manager.js"></script>
    <script src="js/undo.js"></script>
    <script src="js/auto-layout.js"></script>
    <script src="js/script-manager.js"></script>
    <script src="js/llm-prompt.js"></script>
    <script src="js/llm-manager.js"></script>
    <script src="js/right-pane-manager.js"></script>
    <script src="js/chat-history-tab.js"></script>
    <script src="js/code-editor.js"></script>
    <script src="js/settings-context-tab.js"></script>
    <script src="js/app.js"></script>
</body>
</html>